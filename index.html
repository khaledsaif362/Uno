<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>UNO Game</title>
  <style>
    body {
      font-family: 'Arial Black', Arial, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #1a1a1a, #222, #111);
      color: white;
      margin: 0;
      padding: 20px;
    }

    h1 {
      font-size: 40px;
      letter-spacing: 3px;
      color: #fefefe;
      text-shadow: 2px 2px 8px #000;
    }

    #game {
      margin-top: 20px;
    }

    .card {
      display: inline-block;
      padding: 20px 20px;
      margin: 6px;
      border-radius: 10px;
      font-weight: bold;
      font-size: 20px;
      cursor: pointer;
      border: 2px solid white;
      width: 60px;
      height: 90px;
      line-height: 50px;
      vertical-align: middle;
      text-align: center;
      transition: transform 0.2s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .red { background: #e74c3c; }
    .yellow { background: #f1c40f; color: black; }
    .green { background: #2ecc71; }
    .blue { background: #3498db; }
    .black { background: black; color: white; }

    #playerHand, #computerHand {
      margin: 20px;
      padding: 10px;
      border: 2px solid #444;
      border-radius: 10px;
      background: rgba(255,255,255,0.05);
    }

    #discardPile {
      margin: 20px auto;
      padding: 20px;
      border: 3px dashed #fff;
      display: inline-block;
      min-width: 100px;
      min-height: 120px;
      border-radius: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 18px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
      background: #ff4757;
      color: white;
      border: none;
      font-weight: bold;
      transition: background 0.3s;
    }

    button:hover {
      background: #e84118;
    }

    #status {
      font-size: 20px;
      margin-top: 15px;
      color: #f39c12;
      text-shadow: 1px 1px 3px black;
    }
  </style>
</head>
<body>
  <h1>üéÆ UNO GAME</h1>
  <div id="game">
    <h2>Discard Pile</h2>
    <div id="discardPile"></div>
    
    <h2>Your Hand</h2>
    <div id="playerHand"></div>
    
    <button onclick="drawCard('player')">Draw Card</button>
    
    <h2>Computer</h2>
    <div id="computerHand"></div>
    
    <p id="status"></p>
  </div>

  <script>
    const colors = ["red","yellow","green","blue"];
    const values = ["0","1","2","3","4","5","6","7","8","9","Skip","Reverse","Draw Two"];
    const wilds = ["Wild","Wild Draw Four"];
    
    let deck = [];
    let playerHand = [];
    let computerHand = [];
    let discardPile = [];
    let currentPlayer = "player";
    let direction = 1;

    function createDeck() {
      deck = [];
      for (let c of colors) {
        for (let v of values) {
          deck.push({color:c, value:v});
          if (v !== "0") deck.push({color:c, value:v});
        }
      }
      for (let i=0;i<4;i++) {
        for (let w of wilds) {
          deck.push({color:"black", value:w});
        }
      }
      shuffle(deck);
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function startGame() {
      createDeck();
      playerHand = deck.splice(0,7);
      computerHand = deck.splice(0,7);
      discardPile = [deck.pop()];
      if (discardPile[0].color === "black") discardPile.color = colors[Math.floor(Math.random()*4)];
      render();
    }

    function render() {
      document.getElementById("playerHand").innerHTML = "";
      playerHand.forEach((card, idx) => {
        let el = document.createElement("div");
        el.className = "card " + card.color;
        el.innerText = card.value;
        el.onclick = () => playCard("player", idx);
        document.getElementById("playerHand").appendChild(el);
      });
      
      document.getElementById("computerHand").innerText = "Cards: "+computerHand.length;
      
      let discardDiv = document.getElementById("discardPile");
      discardDiv.innerHTML = "";
      let top = discardPile[discardPile.length-1];
      let dEl = document.createElement("div");
      dEl.className="card " + top.color;
      dEl.innerText= top.value;
      discardDiv.appendChild(dEl);
    }

    function playCard(player, idx) {
      if (currentPlayer !== player) return;
      let hand = (player==="player"?playerHand:computerHand);
      let card = hand[idx];
      let top = discardPile[discardPile.length-1];
      if (
        card.color===top.color || 
        card.value===top.value || 
        card.color==="black"
      ) {
        discardPile.push(card);
        hand.splice(idx,1);

        if (card.color==="black" && player==="player") {
          let chosen = prompt("Pick a color (red, yellow, green, blue):");
          if (colors.includes(chosen)) discardPile[discardPile.length-1].color = chosen;
        } else if (card.color==="black" && player==="computer") {
          discardPile[discardPile.length-1].color = colors[Math.floor(Math.random()*4)];
        }

        applyAction(card, player);

        if (hand.length===0) {
          document.getElementById("status").innerText = (player==="player"?"üéâ You win!":"üíª Computer wins!");
          return;
        }
        if (currentPlayer==="computer") computerTurn();
      } else {
        document.getElementById("status").innerText = "‚ùå Invalid move!";
      }
      render();
    }

    function applyAction(card, player) {
      if (card.value==="Skip") {
        currentPlayer = (player==="player"?"player":"computer");
      } else if (card.value==="Reverse") {
        direction*=-1; 
      } else if (card.value==="Draw Two") {
        drawCard(player==="player"?"computer":"player",2);
      } else if (card.value==="Wild Draw Four") {
        drawCard(player==="player"?"computer":"player",4);
      }
      currentPlayer = (player==="player"?"computer":"player");
    }

    function drawCard(player, n=1) {
      let hand = (player==="player"?playerHand:computerHand);
      for (let i=0;i<n;i++) {
        if (deck.length===0) {
          let top = discardPile.pop();
          deck = discardPile;
          shuffle(deck);
          discardPile=[top];
        }
        if (deck.length>0) hand.push(deck.pop());
      }
      render();
      return hand;
    }

    function computerTurn() {
      setTimeout(()=>{
        let playable = computerHand.findIndex(c=>{
          let top=discardPile[discardPile.length-1];
          return c.color==="black" || c.color===top.color || c.value===top.value;
        });
        if (playable>=0) {
          playCard("computer", playable);
        } else {
          drawCard("computer");
          currentPlayer="player";
        }
        render();
      }, 1000);
    }

    startGame();
  </script>
</body>
</html>
